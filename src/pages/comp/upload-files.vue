<template>
  <div layout-default>
    <el-card shadow="hover" header="æ–‡ä»¶ä¸Šä¼ ç»„ä»¶">
      <UploadFile :upload-props="uploadProps" @file-submit="submitResult" />
    </el-card>
  </div>
</template>

<script setup lang='ts'>
import axios from 'axios'

const uploadProps = {
  action: '',
  headers: {},
  multiple: true,
  autoUpload: false,
  showFileList: false,
}

function submitResult(file: any) {
  // ä¸Šä¼ æ–‡ä»¶ æ¨¡æ‹Ÿ
  axios.post({
    url: 'xxx',
    data: file,
    responseType: 'blob', // å…³é”®é…ç½®ï¼ŒæŒ‡å®šå“åº”ç±»åž‹ä¸º Blob
  }).then((res) => {
    // eslint-disable-next-line no-console
    console.log('ðŸš€ ~ res:', res)
  }).catch((err) => {
    console.error('ðŸš€ ~ err:', err)
  })
}
</script>
