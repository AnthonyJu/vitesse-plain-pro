<template>
  <div main-container>
    <JForm
      :loading="loading"
      :form-items="formItems"
      :form-props="{
        inline: true,
      }"
      @search="onSearch"
    >
      <template #toolbar>
        <el-button type="primary">+ æ–°å¢ž</el-button>
      </template>
    </JForm>
  </div>
</template>

<route lang="yaml">
meta:
  name: JForm
</route>

<script setup lang='ts'>
interface Form {
  name: string
  age: string
  timeFrame: [string, string]
}

const loading = ref(false)
const formItems: JFormItem[] = [
  {
    prop: 'name',
    label: 'å§“å',
    type: 'input',
    defaultValue: 'å¼ ä¸‰',
  },
  {
    prop: 'age',
    label: 'å¹´é¾„',
    type: 'select',
    options: [
      {
        label: 'è¯·é€‰æ‹©',
        value: '',
      },
      {
        label: '18',
        value: 18,
      },
      {
        label: '19',
        value: 19,
      },
      {
        label: '20',
        value: 20,
      },
    ],
  },
  {
    prop: 'timeFrame',
    label: 'æ—¶é—´',
    type: 'dateTime',
  },
]

function onSearch(page: number, form: Form) {
  // eslint-disable-next-line no-console
  console.log('ðŸš€ ~ form:', form)
  loading.value = true
  setTimeout(() => {
    loading.value = false
  }, 1000)
}
</script>
