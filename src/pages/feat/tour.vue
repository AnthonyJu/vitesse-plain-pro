<template>
  <div layout-default>
    <NoticeBar
      text="ğŸ‰Tour æ¼«æ¸¸å¼å¼•å¯¼-ElementPlus-v2.5.0ï¼Œåœ°å€ï¼šhttps://element-plus.org/zh-CN/component/tour.htmlï¼Œç‚¹å‡»å‰å¾€"
      right-icon="carbon:chevron-right"
      mode="link"
      @link="linkFn"
    />
    <el-card class="mt-15px" shadow="hover" header="æ¼«æ¸¸å¼å¼•å¯¼ï¼šç®€å•ç¤ºä¾‹">
      <el-button type="primary" @click="open = true">å¼€å§‹æ¼«æ¸¸</el-button>

      <el-divider />

      <el-space>
        <el-button ref="ref1">ä¸Šä¼ æ–‡ä»¶</el-button>
        <el-button ref="ref2" type="primary">ä¿å­˜</el-button>
        <el-button ref="ref3" :icon="MoreFilled" />
        <!-- å­ç»„ä»¶ -->
        <Child ref="refChild" />
      </el-space>

      <el-tour v-model="open">
        <el-tour-step :target="ref1?.$el" title="ä¸Šä¼ æ–‡ä»¶">
          <img
            src="https://element-plus.org/images/element-plus-logo.svg"
            alt="tour.png"
          >
          <div>æŠŠæƒ³è¦ä¸Šä¼ çš„æ–‡ä»¶æ”¾åœ¨è¿™</div>
        </el-tour-step>
        <el-tour-step
          :target="ref2?.$el"
          title="ä¿å­˜"
          description="ä¿å­˜ä½ çš„æ›´æ”¹"
        />
        <el-tour-step
          :target="ref3?.$el"
          title="å…¶ä»–é€‰é¡¹"
          description="ç‚¹å‡»æŸ¥çœ‹å…¶ä»–é€‰é¡¹"
        />
        <el-tour-step
          :target="ref4?.$el"
          title="æŸ¥çœ‹ä¸Šä¼ "
          description="è¿™æ˜¯ä¸€ä¸ªå­ç»„ä»¶çš„æ¼«æ¸¸"
        />
      </el-tour>

      <el-divider />
      <div class="my-10px">ä»£ç </div>
      <CodeBlock :code="tourDemoStr" lang="html" />
    </el-card>
  </div>
</template>

<script setup lang='ts'>
import type { ButtonInstance } from 'element-plus'
import { MoreFilled } from '@element-plus/icons-vue'
import Child from './components/child.vue'
import { tourDemoStr } from './data/highlight'

const open = ref(false)
const ref1 = ref<ButtonInstance>()
const ref2 = ref<ButtonInstance>()
const ref3 = ref<ButtonInstance>()
const refChild = ref()
const ref4 = ref<ButtonInstance>()

function linkFn() {
  window.open('https://element-plus.org/zh-CN/component/tour.html')
}
onMounted(() => {
  ref4.value = refChild.value.refGoView
})
</script>
